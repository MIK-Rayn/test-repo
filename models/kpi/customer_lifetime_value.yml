version: 2

models:
  - name: customer_lifetime_value
    description: |
      The Customer Lifetime Value (CLV) KPI calculates the average revenue generated by a customer throughout their entire relationship with the company.
      It is defined as the total amount billed from all paid invoices divided by the number of distinct customers who have made payments.
    columns:
      - name: CLV
        description: |
          The computed Customer Lifetime Value (CLV), representing the average revenue per customer over their lifetime relationship with the company.
          It is calculated as: sum(TOTAL_AMOUNT) / count(distinct CUSTOMER_ID) from the set of invoices where the status is 'Paid'.
