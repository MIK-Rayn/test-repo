version: 2
models:
  - name: customer_lifetime_value
    description: >
      This model calculates the Customer Lifetime Value (CLV) KPI. CLV estimates the total net profit a business can expect
      from a single customer over the entire relationship. The calculation is performed by summing, for each order in ORDER_HISTORY,
      the value: (TOTAL_VALUE - FEE_VALUE - (line item refunds + payment refunds) - promotion amounts).
    columns:
      - name: customer_email
        description: "Email address of the customer associated with the orders."
      - name: customer_lifetime_value
        description: "Aggregated Customer Lifetime Value (CLV) calculated for the customer by summing adjusted order values."